import{w as ie,G as de,a4 as we,B as r,J as n,M as e,aY as Q,$ as c,_ as v,X as C,au as A,aD as be,P as U,a7 as X,Z as k,U as oe,al as ae,K as ue,L as y,aA as Y,r as u,f as D,a8 as ye,a$ as _e,C as ne,aW as Ce}from"./vendor-vue-rrJoI5pD.js";import{a as $,b as ce,_ as je}from"./index-zOXOKCmm.js";import{_ as pe,a as Me}from"./Pagination-DIW_Ff4w.js";import"./vendor-BgxNQcjb.js";import"./vendor-element-Bmt4lDx1.js";import"./vendor-socket-DmpRiKjA.js";const $e={class:"w-full max-w-6xl max-h-[95vh] overflow-hidden rounded-2xl sm:rounded-3xl bg-white shadow-2xl flex flex-col"},Be={class:"flex-1 overflow-y-auto"},Pe={class:"grid gap-4 sm:gap-6 p-3 sm:p-6 lg:grid-cols-2"},Ve={class:"rounded-xl sm:rounded-2xl border border-slate-200 bg-white p-4 sm:p-6 shadow-sm"},He={class:"flex items-center gap-2 sm:gap-3 border-b border-slate-200 pb-3 sm:pb-4"},Le={class:"flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-lg sm:rounded-xl bg-gradient-to-br from-emerald-500 to-emerald-600 text-white shadow-lg"},ze={key:0,class:"h-4 w-4 sm:h-5 sm:w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ke={key:1,class:"h-4 w-4 sm:h-5 sm:w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Te={class:"text-base sm:text-lg font-bold text-slate-900"},Ae={class:"space-y-3 sm:space-y-4"},De={class:"relative"},Ue={class:"relative"},Fe={key:0,class:"absolute z-10 mt-1 w-full rounded-lg border border-slate-200 bg-white shadow-lg"},Ne={class:"border-b border-slate-200 p-2"},Se={class:"relative"},Ie={class:"max-h-60 overflow-y-auto"},Oe={key:0,class:"px-4 py-3 text-center text-sm text-slate-500"},Ee=["onClick"],Ge={key:0,class:"h-5 w-5 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Re={class:"flex items-center gap-3 border-t border-slate-200 pt-4"},Qe=["disabled"],qe={class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Je={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},We={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"},Xe={class:"flex flex-col",style:{"max-height":"calc(100vh - 250px)"}},Ye={class:"flex flex-1 flex-col overflow-hidden rounded-xl sm:rounded-2xl border border-slate-200 bg-white shadow-lg"},Ze={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0 border-b border-slate-200 bg-gradient-to-r from-emerald-50 to-white px-4 sm:px-6 py-3 sm:py-4"},et={class:"flex items-center gap-2 sm:gap-3 w-full sm:w-auto"},tt={key:1,class:"flex h-6 sm:h-8 min-w-[1.5rem] sm:min-w-[2rem] items-center justify-center rounded-full bg-emerald-100 px-2 sm:px-3 text-xs sm:text-sm font-bold text-emerald-700"},st={key:0,class:"flex flex-1 flex-col items-center justify-center gap-4 py-20"},lt={key:1,class:"flex flex-1 flex-col items-center justify-center gap-3 py-20"},ot={key:2,class:"flex-1 overflow-y-auto"},at=["disabled"],rt={class:"flex items-center justify-center"},nt=["value","disabled","title"],it={class:"font-semibold text-slate-900"},dt={key:0,class:"mt-0.5 text-xs text-slate-500"},ut={class:"flex items-center justify-center"},ct={key:0,class:"inline-flex items-center rounded-full bg-emerald-100 px-3 py-1.5 text-xs font-bold text-emerald-700"},pt={key:1,class:"text-xs text-slate-400"},mt={key:0,class:"inline-flex items-center gap-1.5 rounded-full bg-blue-100 px-3 py-1.5 text-xs font-bold text-blue-700"},vt={key:1,class:"text-xs text-slate-400"},gt={class:"flex items-center justify-center gap-2"},ht=["onClick"],ft=["onClick"],xt={__name:"CategoryModal",props:{isOpen:{type:Boolean,default:!1}},emits:["close","updated"],setup(Z,{emit:ee}){const{success:I,error:x,confirm:G}=ce(),O=Z,z=ee,h=u([]),H=u([]),L=u(!1),w=u(!1),f=u(null),j=u(!1),B=u(""),m=u([]),d=u({name:"",description:"",printer_id:null}),M=D(()=>h.value.filter(l=>l.product_count===0)),F=D({get(){return M.value.length>0&&m.value.length===M.value.length},set(l){l?m.value=M.value.map(s=>s.id):m.value=[]}}),P=[{key:"checkbox",label:"",align:"text-center"},{key:"name",label:"Nama Kategori",align:"text-left"},{key:"printer",label:"Printer Target",align:"text-center"},{key:"product_count",label:"Jumlah Produk",align:"text-center"},{key:"actions",label:"Aksi",align:"text-center"}],g=D(()=>H.value.filter(l=>l.is_active===1)),b=D(()=>{if(!B.value)return g.value;const l=B.value.toLowerCase();return g.value.filter(s=>s.name.toLowerCase().includes(l))}),_=D(()=>{if(!d.value.printer_id)return"";const l=g.value.find(s=>s.id===d.value.printer_id);return l?l.name:""});ie(()=>O.isOpen,l=>{l&&(K(),q(),N())});const K=async()=>{L.value=!0;try{const l=await $.get("/categories");l.data.success?h.value=l.data.data:x("Gagal memuat daftar kategori")}catch(l){console.error("Failed to fetch categories:",l),x("Terjadi kesalahan saat memuat kategori")}finally{L.value=!1}},q=async()=>{w.value=!0;try{const l=await $.get("/printers");l.data.success||l.data.data?(H.value=l.data.data||[],!d.value.printer_id&&g.value.length>0&&(d.value.printer_id=g.value[0].id)):x("Gagal memuat daftar printer")}catch(l){console.error("Failed to fetch printers:",l),x("Terjadi kesalahan saat memuat printer")}finally{w.value=!1}},R=async()=>{if(!d.value.name.trim()){x("Nama kategori harus diisi!");return}try{if(f.value){const l=await $.put(`/categories/${f.value.id}`,d.value);l.data.success?(await K(),N(),z("updated"),I("✓ Kategori berhasil diperbarui!")):x(l.data.message||"Gagal memperbarui kategori")}else{const l=await $.post("/categories",d.value);l.data.success?(await K(),N(),z("updated"),I("✓ Kategori berhasil ditambahkan!")):x(l.data.message||"Gagal menambahkan kategori")}}catch(l){console.error("Failed to save category:",l);const s=l.response?.data?.message||"Terjadi kesalahan saat menyimpan kategori";x(s)}},p=l=>{f.value=l,d.value={name:l.name,description:l.description||"",printer_id:l.printer_id||null}},te=()=>{N()},V=async l=>{if(l.product_count>0){x(`Kategori "${l.name}" tidak dapat dihapus!
${l.product_count} produk masih menggunakan kategori ini.`);return}G(`Apakah Anda yakin ingin menghapus kategori "${l.name}"?`,async()=>{try{const s=await $.delete(`/categories/${l.id}`);s.data.success?(await K(),z("updated"),I("✓ Kategori berhasil dihapus!")):x(s.data.message||"Gagal menghapus kategori")}catch(s){console.error("Failed to delete category:",s);const i=s.response?.data?.message||"Terjadi kesalahan saat menghapus kategori";x(i)}})},J=async()=>{m.value.length!==0&&G(`Apakah Anda yakin ingin menghapus ${m.value.length} kategori?`,async()=>{try{let l=0,s=0;for(const i of m.value)try{(await $.delete(`/categories/${i}`)).data.success?l++:s++}catch{s++}await K(),m.value=[],z("updated"),s===0?I(`✓ ${l} kategori berhasil dihapus!`):x(`${l} kategori berhasil dihapus, ${s} gagal.`)}catch(l){console.error("Failed to bulk delete categories:",l),x("Terjadi kesalahan saat menghapus kategori")}})},N=()=>{f.value=null,d.value={name:"",description:"",printer_id:g.value.length>0?g.value[0].id:""}},W=()=>{N(),j.value=!1,B.value="",z("close")},se=()=>{w.value||g.value.length===0||(j.value=!j.value,j.value&&(B.value=""))},le=l=>{d.value.printer_id=l.id,j.value=!1,B.value=""},S=l=>{l.target.closest(".relative")||(j.value=!1)};return de(()=>{document.addEventListener("click",S)}),we(()=>{document.removeEventListener("click",S)}),(l,s)=>Z.isOpen?(r(),n("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 px-2 sm:px-4 backdrop-blur-sm",onClick:X(W,["self"])},[e("div",$e,[e("div",{class:"relative flex items-center justify-between bg-gradient-to-r from-emerald-600 to-emerald-500 px-4 sm:px-8 py-4 sm:py-6 text-white flex-shrink-0"},[s[7]||(s[7]=Q('<div class="flex items-center gap-2 sm:gap-3"><div class="flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-lg sm:rounded-xl bg-white/20"><svg class="h-4 w-4 sm:h-6 sm:w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path></svg></div><div><h2 class="text-lg sm:text-2xl font-bold">Kelola Kategori</h2><p class="mt-0.5 sm:mt-1 text-xs sm:text-sm text-emerald-50">Atur kategori dan printer tujuan</p></div></div>',1)),e("button",{onClick:W,class:"group flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-white/10 transition-all hover:bg-white/20 hover:rotate-90"},[...s[6]||(s[6]=[e("svg",{class:"h-4 w-4 sm:h-5 sm:w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",Be,[e("div",Pe,[e("div",Ve,[e("div",He,[e("div",Le,[f.value?(r(),n("svg",ze,[...s[8]||(s[8]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"},null,-1)])])):(r(),n("svg",Ke,[...s[9]||(s[9]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"},null,-1)])]))]),e("h3",Te,c(f.value?"Edit Kategori":"Tambah Kategori"),1)]),e("div",Ae,[e("div",null,[s[10]||(s[10]=e("label",{class:"mb-2 flex items-center gap-2 text-sm font-semibold text-slate-700"},[e("svg",{class:"h-4 w-4 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})]),v(" Nama Kategori ")],-1)),C(e("input",{"onUpdate:modelValue":s[0]||(s[0]=i=>d.value.name=i),type:"text",class:"input",placeholder:"Contoh: Makanan Utama, Minuman, dll",onKeyup:be(R,["enter"])},null,544),[[A,d.value.name]])]),e("div",null,[s[11]||(s[11]=e("label",{class:"mb-1.5 sm:mb-2 flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm font-semibold text-slate-700"},[e("svg",{class:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),v(" Deskripsi ")],-1)),C(e("textarea",{"onUpdate:modelValue":s[1]||(s[1]=i=>d.value.description=i),rows:"2",class:"input resize-none text-sm sm:text-base",placeholder:"Deskripsi kategori (opsional)"},null,512),[[A,d.value.description]])]),e("div",De,[s[15]||(s[15]=e("label",{class:"mb-1.5 sm:mb-2 flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm font-semibold text-slate-700"},[e("svg",{class:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})]),v(" Pilih Printer Target ")],-1)),e("div",Ue,[e("div",{onClick:se,class:U(["input flex cursor-pointer items-center justify-between",{"opacity-50 cursor-not-allowed":w.value||g.value.length===0}])},[e("span",{class:U(d.value.printer_id?"text-slate-900":"text-slate-400")},c(_.value||(w.value?"Memuat printer...":g.value.length===0?"Belum ada printer aktif":"Pilih printer")),3),(r(),n("svg",{class:U(["h-5 w-5 text-slate-400 transition-transform",{"rotate-180":j.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...s[12]||(s[12]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))],2),j.value?(r(),n("div",Fe,[e("div",Ne,[e("div",Se,[s[13]||(s[13]=e("svg",{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),C(e("input",{"onUpdate:modelValue":s[2]||(s[2]=i=>B.value=i),type:"text",placeholder:"Cari printer...",class:"w-full rounded-md border border-slate-200 py-2 pl-9 pr-3 text-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500",onClick:s[3]||(s[3]=X(()=>{},["stop"]))},null,512),[[A,B.value]])])]),e("div",Ie,[b.value.length===0?(r(),n("div",Oe," Printer tidak ditemukan ")):k("",!0),(r(!0),n(oe,null,ae(b.value,i=>(r(),n("div",{key:i.id,onClick:T=>le(i),class:U(["flex cursor-pointer items-center justify-between px-4 py-2.5 text-sm transition-colors hover:bg-emerald-50",d.value.printer_id===i.id?"bg-emerald-50 text-emerald-700 font-medium":"text-slate-700"])},[e("span",null,c(i.name),1),d.value.printer_id===i.id?(r(),n("svg",Ge,[...s[14]||(s[14]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])):k("",!0)],10,Ee))),128))])])):k("",!0)]),s[16]||(s[16]=e("p",{class:"mt-2 flex items-start gap-2 text-xs text-slate-500"},[e("svg",{class:"mt-0.5 h-4 w-4 flex-shrink-0 text-emerald-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),v(" Menu dari kategori ini akan dicetak ke printer yang dipilih ")],-1))])]),e("div",Re,[e("button",{onClick:R,class:"btn-primary flex-1",disabled:!d.value.name.trim()},[(r(),n("svg",qe,[f.value?(r(),n("path",Je)):(r(),n("path",We))])),v(" "+c(f.value?"Update":"Tambah"),1)],8,Qe),f.value?(r(),n("button",{key:0,onClick:te,class:"btn-secondary"},[...s[17]||(s[17]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])):k("",!0)])]),e("div",Xe,[e("div",Ye,[e("div",Ze,[s[20]||(s[20]=Q('<div class="flex items-center gap-2 sm:gap-3"><div class="flex h-8 w-8 sm:h-10 sm:w-10 items-center justify-center rounded-lg sm:rounded-xl bg-gradient-to-br from-emerald-500 to-emerald-600 text-white shadow-lg"><svg class="h-4 w-4 sm:h-5 sm:w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></div><h3 class="text-base sm:text-xl font-bold text-slate-900">Daftar Kategori</h3></div>',1)),e("div",et,[m.value.length>0?(r(),n("button",{key:0,onClick:J,class:"flex items-center gap-1.5 sm:gap-2 rounded-lg bg-red-50 px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-semibold text-red-600 transition-all hover:bg-red-100 flex-1 sm:flex-initial justify-center"},[s[18]||(s[18]=e("svg",{class:"h-3.5 w-3.5 sm:h-4 sm:w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)),s[19]||(s[19]=e("span",{class:"hidden sm:inline"},"Hapus",-1)),v(" "+c(m.value.length),1)])):k("",!0),!L.value&&h.value.length>0?(r(),n("span",tt,c(h.value.length),1)):k("",!0)])]),L.value?(r(),n("div",st,[...s[21]||(s[21]=[e("div",{class:"h-12 w-12 animate-spin rounded-full border-4 border-slate-200 border-t-emerald-600"},null,-1),e("p",{class:"text-sm font-medium text-slate-500"},"Memuat kategori...",-1)])])):h.value.length===0?(r(),n("div",lt,[...s[22]||(s[22]=[Q('<div class="rounded-full bg-emerald-100 p-4"><svg class="h-12 w-12 text-emerald-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"></path></svg></div><p class="text-sm font-medium text-slate-600">Belum ada kategori</p><p class="text-xs text-slate-400">Tambahkan kategori menggunakan form di samping</p>',3)])])):(r(),n("div",ot,[ue(pe,{columns:P,data:h.value,"item-key":"id"},{"header-checkbox":y(()=>[C(e("input",{type:"checkbox","onUpdate:modelValue":s[4]||(s[4]=i=>F.value=i),disabled:M.value.length===0,class:"h-4 w-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500 focus:ring-2 transition-all cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",title:"Pilih semua kategori yang dapat dihapus"},null,8,at),[[Y,F.value]])]),"cell-checkbox":y(({item:i})=>[e("div",rt,[C(e("input",{type:"checkbox",value:i.id,"onUpdate:modelValue":s[5]||(s[5]=T=>m.value=T),disabled:i.product_count>0,class:"h-4 w-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed",title:i.product_count>0?"Kategori tidak dapat dihapus karena masih digunakan produk":"Pilih untuk hapus"},null,8,nt),[[Y,m.value]])])]),"cell-name":y(({item:i})=>[e("div",null,[e("p",it,c(i.name),1),i.description?(r(),n("p",dt,c(i.description),1)):k("",!0)])]),"cell-printer":y(({item:i})=>[e("div",ut,[i.printer_name?(r(),n("span",ct,c(i.printer_name),1)):(r(),n("span",pt,"-"))])]),"cell-product_count":y(({item:i})=>[i.product_count>0?(r(),n("div",mt,[s[23]||(s[23]=e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})],-1)),v(" "+c(i.product_count),1)])):(r(),n("span",vt,"-"))]),"cell-actions":y(({item:i})=>[e("div",gt,[e("button",{onClick:T=>p(i),class:"flex h-8 w-8 items-center justify-center rounded-lg bg-blue-50 text-blue-700 transition-all hover:bg-blue-100",title:"Edit Kategori"},[...s[24]||(s[24]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,ht),e("button",{onClick:T=>V(i),class:"flex h-8 w-8 items-center justify-center rounded-lg bg-red-50 text-red-600 transition-all hover:bg-red-100",title:"Hapus Kategori"},[...s[25]||(s[25]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,ft)])]),_:1},8,["data"])]))])])])])])])):k("",!0)}},kt={class:"min-h-screen pb-20 lg:pb-6"},wt={class:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8"},bt={class:"mb-6 overflow-hidden rounded-2xl bg-gradient-to-r from-emerald-600 to-emerald-500 p-6 shadow-xl"},yt={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},_t={class:"flex w-full flex-col gap-2 sm:w-auto sm:flex-row sm:items-center"},Ct={class:"mb-6 overflow-hidden rounded-2xl bg-white p-4 shadow-lg"},jt={class:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},Mt={class:"relative flex-1"},$t={class:"relative sm:w-64"},Bt=["value"],Pt={key:0,class:"flex items-center justify-center rounded-2xl bg-white p-12 shadow-lg"},Vt={key:1,class:"overflow-hidden rounded-2xl bg-white p-12 shadow-lg"},Ht={class:"flex flex-col items-center gap-6 text-center"},Lt={key:2,class:"overflow-hidden rounded-2xl bg-white p-12 shadow-lg"},zt={class:"flex flex-col items-center gap-6 text-center"},Kt={class:"max-w-md"},Tt={key:0,class:"mt-4 inline-flex items-center gap-2 rounded-xl bg-slate-100 px-4 py-2"},At={class:"text-sm font-semibold text-slate-700"},Dt={class:"flex flex-wrap items-center justify-center gap-3"},Ut=["disabled"],Ft=["value"],Nt={class:"font-semibold text-slate-900"},St={class:"inline-flex items-center rounded-lg bg-gradient-to-r from-amber-100 to-amber-200 px-2.5 py-1 text-xs font-mono font-bold text-amber-800"},It={class:"inline-flex items-center gap-1.5 rounded-full bg-gradient-to-r from-slate-100 to-slate-200 px-3 py-1 text-xs font-semibold text-slate-700"},Ot={class:"accounting-price"},Et={class:"amount"},Gt={class:"max-w-xs truncate text-sm text-slate-500"},Rt={class:"flex items-center justify-center gap-2"},Qt=["onClick"],qt=["onClick"],Jt={class:"w-full max-w-2xl overflow-hidden rounded-2xl bg-white shadow-2xl"},Wt={class:"bg-gradient-to-r from-emerald-600 to-emerald-500 p-6"},Xt={class:"flex items-center justify-between"},Yt={class:"flex items-center gap-3"},Zt={class:"text-xl font-bold text-white"},es={class:"text-sm text-emerald-100"},ts={class:"max-h-[60vh] overflow-y-auto p-6"},ss={class:"space-y-5"},ls={class:"relative category-dropdown-container"},os={class:"flex items-center justify-between"},as={key:0,class:"absolute z-50 mt-2 w-full overflow-hidden rounded-xl border-2 border-slate-200 bg-white shadow-xl"},rs={class:"border-b border-slate-200 p-3"},ns={class:"relative"},is={class:"max-h-60 overflow-y-auto"},ds={key:0,class:"px-4 py-3 text-center text-sm text-slate-500"},us=["onClick"],cs={key:0,class:"h-5 w-5 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ps={class:"flex items-center justify-end gap-3 border-t border-slate-100 bg-slate-50 p-6"},ms={__name:"ProductView",setup(Z){const ee=Ce(),{created:I,updated:x,deleted:G,error:O,confirm:z}=ce(),h=u([]),H=u([]),L=u(!1),w=u(""),f=u(null),j=u(!1),B=u(!1),m=u(null),d=u(""),M=u(null),F=u(!1),P=u(!1),g=u(""),b=u([]),_=u({current_page:1,total_pages:1,total_items:0,page_size:12}),K=D({get(){return h.value.length>0&&b.value.length===h.value.length},set(o){o?b.value=h.value.map(t=>t.id):b.value=[]}}),q=D(()=>{if(!g.value)return H.value;const o=g.value.toLowerCase();return H.value.filter(t=>t.name.toLowerCase().includes(o))}),R=D(()=>{if(!p.value.category_id)return"";const o=H.value.find(t=>t.id===p.value.category_id);return o?o.name:""}),p=u({name:"",description:"",price:0,category_id:""}),te=[{key:"checkbox",label:"",align:"text-center"},{key:"name",label:"Nama Produk",align:"text-left",icon:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"},{key:"code",label:"Code Produk",align:"text-center"},{key:"category_id",label:"Kategori",align:"text-center"},{key:"price",label:"Harga",align:"text-center"},{key:"description",label:"Deskripsi",align:"text-center"},{key:"actions",label:"Aksi",align:"text-center"}],V=async()=>{L.value=!0;try{const o={page:_.value.current_page,page_size:_.value.page_size};w.value&&(o.search=w.value,F.value=!0),f.value!==null&&(o.category_id=f.value,F.value=!0);const t=await $.get("/products",{params:o});t.data.success&&(h.value=t.data.data||[],t.data.pagination&&(_.value=t.data.pagination))}catch{}finally{L.value=!1}},J=async()=>{try{const o=await $.get("/categories");o.data.success&&(H.value=o.data.data||[])}catch{}},N=o=>{const t=H.value.find(a=>a.id===o);return t?t.name:"Tanpa Kategori"},W=o=>new Intl.NumberFormat("id-ID",{minimumFractionDigits:0,maximumFractionDigits:0}).format(o),se=o=>{let t=o.target.value.replace(/[^\d]/g,"");if(t===""){d.value="",p.value.price=0;return}const a=parseInt(t,10);p.value.price=a,d.value="Rp "+a.toLocaleString("id-ID")},le=()=>{(p.value.price===0||!p.value.price)&&(d.value="")},S=(o=null)=>{o?(m.value=o,p.value={name:o.name,description:o.description||"",price:o.price,category_id:o.category_id},d.value=o.price>0?"Rp "+o.price.toLocaleString("id-ID"):""):(m.value=null,p.value={name:"",description:"",price:0,category_id:""},d.value=""),j.value=!0},l=()=>{j.value=!1,m.value=null,d.value="",p.value={name:"",description:"",price:0,category_id:""}},s=async()=>{if(!p.value.category_id){O("Kategori wajib dipilih");return}try{m.value?(await $.put(`/products/${m.value.id}`,p.value)).data.success&&(await V(),l(),x("Produk berhasil diupdate")):(await $.post("/products",p.value)).data.success&&(await V(),l(),I("Produk berhasil ditambahkan"))}catch(o){const t=o.response?.data?.message||"Gagal menyimpan produk";O(t)}},i=o=>{z(`Apakah Anda yakin ingin menghapus produk "${o.name}"?`,async()=>{try{(await $.delete(`/products/${o.id}`)).data.success&&(await V(),G("Produk berhasil dihapus"))}catch{O("Gagal menghapus produk")}})},T=async()=>{b.value.length!==0&&z(`Apakah Anda yakin ingin menghapus ${b.value.length} produk yang dipilih?`,async()=>{let o=0,t=0;for(const a of b.value)try{(await $.delete(`/products/${a}`)).data.success?o++:t++}catch{t++}await V(),b.value=[],t===0?G(`✓ ${o} produk berhasil dihapus!`):O(`${o} produk berhasil dihapus, ${t} gagal.`)})},me=()=>{B.value=!0},ve=()=>{B.value=!1},ge=()=>{M.value&&clearTimeout(M.value),w.value="",f.value=null,_.value.current_page=1,F.value=!1,V()},he=()=>{ee.push("/")},fe=o=>{o>=1&&o<=_.value.total_pages&&(_.value.current_page=o,V())},xe=()=>{P.value=!P.value,P.value&&(g.value="")},ke=o=>{p.value.category_id=o.id,P.value=!1,g.value=""},re=o=>{!o.target.closest(".category-dropdown-container")&&P.value&&(P.value=!1,g.value="")};return ie([w,f],()=>{M.value&&clearTimeout(M.value),M.value=setTimeout(()=>{_.value.current_page=1,V()},400)}),de(()=>{V(),J(),document.addEventListener("click",re)}),ye(()=>{M.value&&clearTimeout(M.value),document.removeEventListener("click",re)}),(o,t)=>(r(),n("div",kt,[e("div",wt,[e("div",bt,[e("div",yt,[e("div",{class:"flex items-center gap-4"},[e("button",{onClick:he,class:"flex h-10 w-10 items-center justify-center rounded-xl bg-white/20 text-white backdrop-blur-sm transition-all hover:bg-white/30 hover:scale-105 active:scale-95"},[...t[12]||(t[12]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),t[13]||(t[13]=e("div",null,[e("h1",{class:"text-2xl font-bold text-white"},"Kelola Produk"),e("p",{class:"mt-1 text-sm text-emerald-100"},"Manage produk dan kategori")],-1))]),e("div",_t,[b.value.length>0?(r(),n("button",{key:0,onClick:T,class:"flex items-center justify-center gap-2 rounded-xl bg-red-600 px-4 py-2.5 font-semibold text-white shadow-lg transition-all hover:bg-red-700 hover:scale-105 active:scale-95"},[t[14]||(t[14]=e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)),v(" Hapus "+c(b.value.length)+" Produk ",1)])):k("",!0),e("button",{onClick:me,class:"flex items-center justify-center gap-2 rounded-xl bg-white/20 px-4 py-2.5 font-semibold text-white backdrop-blur-sm transition-all hover:bg-white/30 hover:scale-105 active:scale-95"},[...t[15]||(t[15]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})],-1),v(" Kelola Kategori ",-1)])]),e("button",{onClick:t[0]||(t[0]=a=>S()),class:"flex items-center justify-center gap-2 rounded-xl bg-white px-4 py-2.5 font-semibold text-emerald-600 shadow-lg transition-all hover:shadow-xl hover:scale-105 active:scale-95"},[...t[16]||(t[16]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),v(" Tambah Produk ",-1)])])])])]),e("div",Ct,[e("div",jt,[e("div",Mt,[t[17]||(t[17]=e("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[e("svg",{class:"h-5 w-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),C(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>w.value=a),type:"text",class:"w-full rounded-xl border-2 border-slate-200 py-2.5 pl-10 pr-4 transition-all focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200",placeholder:"Cari nama atau kode produk..."},null,512),[[A,w.value]])]),e("div",$t,[C(e("select",{"onUpdate:modelValue":t[2]||(t[2]=a=>f.value=a),class:"w-full appearance-none rounded-xl border-2 border-slate-200 bg-white py-2.5 pl-4 pr-10 transition-all focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200"},[t[18]||(t[18]=e("option",{value:null},"Semua Kategori",-1)),(r(!0),n(oe,null,ae(H.value,a=>(r(),n("option",{key:a.id,value:a.id},c(a.name),9,Bt))),128))],512),[[_e,f.value]]),t[19]||(t[19]=e("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3"},[e("svg",{class:"h-5 w-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))])])]),L.value?(r(),n("div",Pt,[...t[20]||(t[20]=[e("div",{class:"flex items-center gap-3 text-slate-600"},[e("div",{class:"h-8 w-8 animate-spin rounded-full border-4 border-slate-200 border-t-emerald-600"}),e("p",{class:"text-lg font-medium"},"Memuat produk...")],-1)])])):h.value.length===0&&!F.value?(r(),n("div",Vt,[e("div",Ht,[t[22]||(t[22]=Q('<div class="flex h-24 w-24 items-center justify-center rounded-full bg-gradient-to-br from-emerald-100 to-emerald-200" data-v-7c9da79f><svg class="h-12 w-12 text-emerald-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-7c9da79f><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" data-v-7c9da79f></path></svg></div><div data-v-7c9da79f><h3 class="text-xl font-bold text-slate-900" data-v-7c9da79f>Belum Ada Produk</h3><p class="mt-2 text-slate-500" data-v-7c9da79f>Mulai tambahkan produk pertama Anda untuk memulai penjualan</p></div>',2)),e("button",{onClick:t[3]||(t[3]=a=>S()),class:"flex items-center gap-2 rounded-xl bg-gradient-to-r from-emerald-600 to-emerald-500 px-6 py-3 font-semibold text-white shadow-lg transition-all hover:shadow-xl hover:scale-105 active:scale-95"},[...t[21]||(t[21]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),v(" Tambah Produk Pertama ",-1)])])])])):h.value.length===0?(r(),n("div",Lt,[e("div",zt,[t[28]||(t[28]=Q('<div class="relative" data-v-7c9da79f><div class="flex h-24 w-24 items-center justify-center rounded-full bg-gradient-to-br from-amber-100 to-amber-200 animate-pulse" data-v-7c9da79f><svg class="h-12 w-12 text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-7c9da79f><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" data-v-7c9da79f></path></svg></div><div class="absolute -right-1 -top-1 flex h-8 w-8 items-center justify-center rounded-full bg-red-500 shadow-lg" data-v-7c9da79f><svg class="h-5 w-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-7c9da79f><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" data-v-7c9da79f></path></svg></div></div>',1)),e("div",Kt,[t[24]||(t[24]=e("h3",{class:"text-2xl font-bold text-slate-900"},"Produk Tidak Ditemukan",-1)),t[25]||(t[25]=e("p",{class:"mt-2 text-slate-500"},"Tidak ada produk yang cocok dengan pencarian",-1)),w.value?(r(),n("div",Tt,[t[23]||(t[23]=e("svg",{class:"h-4 w-4 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),e("span",At,c(w.value),1)])):k("",!0)]),e("div",Dt,[e("button",{onClick:ge,class:"flex items-center gap-2 rounded-xl bg-gradient-to-r from-slate-600 to-slate-700 px-5 py-3 font-semibold text-white shadow-lg transition-all hover:from-slate-700 hover:to-slate-800 hover:scale-105 active:scale-95"},[...t[26]||(t[26]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),v(" Reset Pencarian ",-1)])]),e("button",{onClick:t[4]||(t[4]=a=>S()),class:"flex items-center gap-2 rounded-xl bg-gradient-to-r from-emerald-600 to-emerald-500 px-5 py-3 font-semibold text-white shadow-lg transition-all hover:shadow-xl hover:scale-105 active:scale-95"},[...t[27]||(t[27]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),v(" Tambah Produk Baru ",-1)])])])])])):(r(),ne(pe,{key:3,columns:te,data:h.value},{"header-checkbox":y(()=>[C(e("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=a=>K.value=a),disabled:h.value.length===0,class:"h-4 w-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500 focus:ring-2 transition-all cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",title:"Pilih semua produk di halaman ini"},null,8,Ut),[[Y,K.value]])]),"cell-checkbox":y(({item:a})=>[C(e("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=E=>b.value=E),value:a.id,class:"h-4 w-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500 focus:ring-2 transition-all cursor-pointer"},null,8,Ft),[[Y,b.value]])]),"cell-name":y(({value:a})=>[e("div",Nt,c(a),1)]),"cell-code":y(({value:a})=>[e("span",St,c(a||"-"),1)]),"cell-category_id":y(({value:a})=>[e("span",It,[t[29]||(t[29]=e("svg",{class:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})],-1)),v(" "+c(N(a)),1)])]),"cell-price":y(({value:a})=>[e("div",Ot,[t[30]||(t[30]=e("span",{class:"currency-symbol"},"Rp",-1)),e("span",Et,c(W(a)),1)])]),"cell-description":y(({value:a})=>[e("div",Gt,c(a||"-"),1)]),"cell-actions":y(({item:a})=>[e("div",Rt,[e("button",{onClick:E=>S(a),class:"flex h-9 w-9 items-center justify-center rounded-lg bg-blue-50 text-blue-600 transition-all hover:bg-blue-100 hover:scale-110 active:scale-95"},[...t[31]||(t[31]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,Qt),e("button",{onClick:E=>i(a),class:"flex h-9 w-9 items-center justify-center rounded-lg bg-red-50 text-red-600 transition-all hover:bg-red-100 hover:scale-110 active:scale-95"},[...t[32]||(t[32]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,qt)])]),_:1},8,["data"])),!L.value&&h.value.length>0&&_.value.total_pages>1?(r(),ne(Me,{key:4,class:"mt-4","current-page":_.value.current_page,"total-pages":_.value.total_pages,"total-items":_.value.total_items,onPageChange:fe},null,8,["current-page","total-pages","total-items"])):k("",!0)]),j.value?(r(),n("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 backdrop-blur-sm px-4",onClick:X(l,["self"])},[e("div",Jt,[e("div",Wt,[e("div",Xt,[e("div",Yt,[t[33]||(t[33]=e("div",{class:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20 backdrop-blur-sm"},[e("svg",{class:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])],-1)),e("div",null,[e("h2",Zt,c(m.value?"Edit Produk":"Tambah Produk"),1),e("p",es,c(m.value?"Update informasi produk":"Tambahkan produk baru"),1)])]),e("button",{onClick:l,class:"flex h-10 w-10 items-center justify-center rounded-xl bg-white/20 text-white backdrop-blur-sm transition-all hover:bg-white/30 hover:rotate-90"},[...t[34]||(t[34]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",ts,[e("div",ss,[e("div",null,[t[35]||(t[35]=e("label",{class:"mb-2 flex items-center gap-2 text-sm font-bold text-slate-700"},[e("svg",{class:"h-4 w-4 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})]),v(" Nama Produk ")],-1)),C(e("input",{"onUpdate:modelValue":t[7]||(t[7]=a=>p.value.name=a),type:"text",placeholder:"Contoh: Teh Manis",class:"w-full rounded-xl border-2 border-slate-200 px-4 py-2.5 transition-all focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200"},null,512),[[A,p.value.name]])]),e("div",null,[t[39]||(t[39]=e("label",{class:"mb-2 flex items-center gap-2 text-sm font-bold text-slate-700"},[e("svg",{class:"h-4 w-4 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})]),v(" Kategori "),e("span",{class:"text-red-500"},"*")],-1)),e("div",ls,[e("button",{type:"button",onClick:xe,class:U(["w-full rounded-xl border-2 border-slate-200 bg-white px-4 py-2.5 text-left transition-all focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200",{"border-emerald-500 ring-2 ring-emerald-200":P.value}])},[e("div",os,[e("span",{class:U(R.value?"text-slate-900":"text-slate-400")},c(R.value||"Pilih kategori"),3),(r(),n("svg",{class:U(["h-5 w-5 text-slate-400 transition-transform",{"rotate-180":P.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[36]||(t[36]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])],2),P.value?(r(),n("div",as,[e("div",rs,[e("div",ns,[t[37]||(t[37]=e("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[e("svg",{class:"h-4 w-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),C(e("input",{"onUpdate:modelValue":t[8]||(t[8]=a=>g.value=a),type:"text",placeholder:"Cari kategori...",class:"w-full rounded-lg border border-slate-200 py-2 pl-9 pr-3 text-sm transition-all focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200",onClick:t[9]||(t[9]=X(()=>{},["stop"]))},null,512),[[A,g.value]])])]),e("div",is,[q.value.length===0?(r(),n("div",ds," Kategori tidak ditemukan ")):k("",!0),(r(!0),n(oe,null,ae(q.value,a=>(r(),n("div",{key:a.id,onClick:E=>ke(a),class:U(["flex cursor-pointer items-center justify-between px-4 py-2.5 text-sm transition-colors hover:bg-emerald-50",p.value.category_id===a.id?"bg-emerald-50 text-emerald-700 font-medium":"text-slate-700"])},[e("span",null,c(a.name),1),p.value.category_id===a.id?(r(),n("svg",cs,[...t[38]||(t[38]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])):k("",!0)],10,us))),128))])])):k("",!0)])]),e("div",null,[t[40]||(t[40]=e("label",{class:"mb-2 flex items-center gap-2 text-sm font-bold text-slate-700"},[e("svg",{class:"h-4 w-4 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),v(" Harga ")],-1)),C(e("input",{"onUpdate:modelValue":t[10]||(t[10]=a=>d.value=a),type:"text",class:"w-full rounded-xl border-2 border-slate-200 px-4 py-2.5 transition-all focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200",placeholder:"Rp 0",onInput:se,onBlur:le},null,544),[[A,d.value]])]),e("div",null,[t[41]||(t[41]=e("label",{class:"mb-2 flex items-center gap-2 text-sm font-bold text-slate-700"},[e("svg",{class:"h-4 w-4 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h7"})]),v(" Deskripsi ")],-1)),C(e("textarea",{"onUpdate:modelValue":t[11]||(t[11]=a=>p.value.description=a),rows:"3",class:"w-full rounded-xl border-2 border-slate-200 px-4 py-2.5 transition-all focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-200",placeholder:"Deskripsi produk (opsional)"},null,512),[[A,p.value.description]])])])]),e("div",ps,[e("button",{onClick:l,class:"rounded-xl bg-slate-200 px-6 py-2.5 font-semibold text-slate-700 transition-all hover:bg-slate-300 hover:scale-105 active:scale-95"}," Batal "),e("button",{onClick:s,class:"flex items-center gap-2 rounded-xl bg-gradient-to-r from-emerald-600 to-emerald-500 px-6 py-2.5 font-semibold text-white shadow-lg transition-all hover:shadow-xl hover:scale-105 active:scale-95"},[t[42]||(t[42]=e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),v(" "+c(m.value?"Update":"Simpan"),1)])])])])):k("",!0),ue(xt,{isOpen:B.value,onClose:ve,onUpdated:J},null,8,["isOpen"])]))}},ws=je(ms,[["__scopeId","data-v-7c9da79f"]]);export{ws as default};
