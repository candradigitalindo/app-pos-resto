import{G as D,a4 as N,J as l,M as e,U as g,al as A,aY as f,a7 as k,X as M,au as x,K as C,L as z,a1 as S,r as n,aW as E,B as d,O as H,$ as y,Z as w}from"./vendor-vue-rrJoI5pD.js";import{_ as U,u as P,a as T}from"./index-BW_WdKWW.js";import"./vendor-BgxNQcjb.js";import"./vendor-element-Bmt4lDx1.js";import"./vendor-socket-DmpRiKjA.js";const K={class:"login-wrapper"},j={class:"animated-bg"},I={class:"particles"},G={class:"login-container"},O={class:"form-section"},F={class:"form-glass-card"},J={class:"form-group"},W={class:"input-wrapper"},X={class:"form-group"},Y={class:"input-wrapper"},Z=["disabled"],_={class:"btn-content"},aa={class:"modal-message"},ea={class:"qr-card"},ta={key:0,class:"qr-placeholder"},sa=["src"],la={key:2,class:"qr-placeholder"},da={key:0,class:"qr-url"},oa={__name:"LoginViewNew",setup(na){const $=E(),L=P(),m=n(""),r=n(""),o=n(""),v=n(!1),u=n(""),b=n(""),p=n(!1),c=n(""),i=n(!1),V=t=>{const s=[{x:Math.random()*100,y:Math.random()*100},{x:-Math.random()*100,y:Math.random()*100},{x:Math.random()*100,y:-Math.random()*100},{x:-Math.random()*100,y:-Math.random()*100}][t%4];return{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,width:`${Math.random()*6+2}px`,height:`${Math.random()*6+2}px`,animationDelay:`${Math.random()*10}s`,animationDuration:`${Math.random()*20+15}s`,"--move-x":`${s.x}px`,"--move-y":`${s.y}px`}},q=t=>{r.value=r.value.replace(/[^0-9]/g,""),r.value.length>4&&(r.value=r.value.slice(0,4))},h=t=>{t.key==="Escape"&&(i.value&&(i.value=!1),o.value&&(o.value=""))},B=async()=>{p.value=!0,c.value="";try{const t=await T.get("/server/qr");if(t.data?.success){u.value=t.data.data?.qr_code||"",b.value=t.data.data?.server_url||"";return}c.value=t.data?.message||"QR tidak tersedia"}catch(t){c.value=t.message||"QR tidak tersedia"}finally{p.value=!1}},Q=async()=>{i.value=!0,!u.value&&!p.value&&await B()};D(()=>{document.addEventListener("keydown",h)}),N(()=>{document.removeEventListener("keydown",h)});const R=async()=>{o.value="",v.value=!0;try{const t=await L.login(m.value,r.value);if(!t.success){o.value=t.message||"Login gagal";return}await $.push("/")}catch(t){o.value=t.message||"Login gagal"}finally{v.value=!1}};return(t,a)=>(d(),l("div",K,[e("div",j,[a[8]||(a[8]=e("div",{class:"gradient-orb orb-1"},null,-1)),a[9]||(a[9]=e("div",{class:"gradient-orb orb-2"},null,-1)),a[10]||(a[10]=e("div",{class:"gradient-orb orb-3"},null,-1)),e("div",I,[(d(),l(g,null,A(20,s=>e("div",{class:"particle",key:s,style:H(V(s))},null,4)),64))]),a[11]||(a[11]=e("div",{class:"grid-pattern"},null,-1))]),e("div",G,[e("section",{class:"branding-section"},[e("div",{class:"brand-glass-card"},[a[12]||(a[12]=f('<div class="brand-icon-wrapper" data-v-de87d3bd><div class="icon-glow" data-v-de87d3bd></div><div class="brand-icon" data-v-de87d3bd><svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-de87d3bd><rect x="2" y="3" width="20" height="14" rx="3" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" data-v-de87d3bd></rect><path d="M2 10H22" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" data-v-de87d3bd></path><circle cx="7" cy="14" r="1.5" fill="currentColor" data-v-de87d3bd></circle><path d="M8 21H16" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" data-v-de87d3bd></path><path d="M12 17V21" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" data-v-de87d3bd></path></svg></div></div><h1 class="brand-title" data-v-de87d3bd><span class="title-main" data-v-de87d3bd>POS</span><span class="title-accent" data-v-de87d3bd>System</span></h1><p class="brand-tagline" data-v-de87d3bd>Point of Sale Modern</p>',3)),e("button",{type:"button",class:"qr-trigger-btn",onClick:Q},"Tampilkan QR Code Server")])]),e("section",O,[e("div",F,[a[22]||(a[22]=f('<div class="form-header" data-v-de87d3bd><div class="welcome-badge" data-v-de87d3bd><svg viewBox="0 0 20 20" fill="currentColor" data-v-de87d3bd><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z" clip-rule="evenodd" data-v-de87d3bd></path></svg><span data-v-de87d3bd>Selamat Datang Kembali</span></div><h2 class="form-title" data-v-de87d3bd>Masuk ke Dashboard</h2><p class="form-subtitle" data-v-de87d3bd>Kelola bisnis Anda dengan mudah dan efisien</p></div>',1)),e("form",{onSubmit:k(R,["prevent"]),class:"login-form"},[e("div",J,[a[14]||(a[14]=e("label",{class:"form-label"},[e("svg",{class:"label-icon",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"})]),e("span",null,"Username")],-1)),e("div",W,[M(e("input",{"onUpdate:modelValue":a[0]||(a[0]=s=>m.value=s),type:"text",class:"form-input",placeholder:"Masukkan username Anda",autocomplete:"username",required:""},null,512),[[x,m.value]]),a[13]||(a[13]=e("div",{class:"input-shine"},null,-1))])]),e("div",X,[a[16]||(a[16]=e("label",{class:"form-label"},[e("svg",{class:"label-icon",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})]),e("span",null,"PIN (4 Digit)")],-1)),e("div",Y,[M(e("input",{"onUpdate:modelValue":a[1]||(a[1]=s=>r.value=s),type:"text",inputmode:"numeric",pattern:"[0-9]{4}",maxlength:"4",minlength:"4",class:"form-input pin-input",placeholder:"• • • •",autocomplete:"off",required:"",onInput:q},null,544),[[x,r.value]]),a[15]||(a[15]=e("div",{class:"input-shine"},null,-1))])]),e("button",{type:"submit",class:"submit-btn",disabled:v.value},[a[21]||(a[21]=e("span",{class:"btn-gradient"},null,-1)),e("span",_,[v.value?(d(),l(g,{key:1},[a[19]||(a[19]=e("svg",{class:"btn-icon spinning",viewBox:"0 0 24 24",fill:"none"},[e("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",opacity:"0.25"}),e("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z",opacity:"0.75"})],-1)),a[20]||(a[20]=e("span",null,"Memproses...",-1))],64)):(d(),l(g,{key:0},[a[17]||(a[17]=e("svg",{class:"btn-icon",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.707l-3-3a1 1 0 00-1.414 1.414L10.586 9H7a1 1 0 100 2h3.586l-1.293 1.293a1 1 0 101.414 1.414l3-3a1 1 0 000-1.414z","clip-rule":"evenodd"})],-1)),a[18]||(a[18]=e("span",null,"Masuk ke Dashboard",-1))],64))])],8,Z)],32),a[23]||(a[23]=f('<div class="form-footer" data-v-de87d3bd><div class="security-badge" data-v-de87d3bd><svg class="security-icon" viewBox="0 0 20 20" fill="currentColor" data-v-de87d3bd><path fill-rule="evenodd" d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" data-v-de87d3bd></path></svg><span data-v-de87d3bd>Koneksi terenkripsi &amp; aman</span></div><div class="version-badge" data-v-de87d3bd>v1.0.0 © 2026</div></div>',1))])])]),C(S,{name:"modal"},{default:z(()=>[o.value?(d(),l("div",{key:0,class:"modal-overlay",onClick:a[4]||(a[4]=s=>o.value="")},[e("div",{class:"modal-card",onClick:a[3]||(a[3]=k(()=>{},["stop"]))},[a[24]||(a[24]=e("div",{class:"modal-icon error"},[e("svg",{viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})])],-1)),a[25]||(a[25]=e("h3",{class:"modal-title"},"Login Gagal",-1)),e("p",aa,y(o.value),1),e("button",{onClick:a[2]||(a[2]=s=>o.value=""),class:"modal-btn"},"Tutup")])])):w("",!0)]),_:1}),C(S,{name:"modal"},{default:z(()=>[i.value?(d(),l("div",{key:0,class:"modal-overlay",onClick:a[7]||(a[7]=s=>i.value=!1)},[e("div",{class:"modal-card",onClick:a[6]||(a[6]=k(()=>{},["stop"]))},[a[26]||(a[26]=e("h3",{class:"modal-title"},"QR Code Server",-1)),a[27]||(a[27]=e("p",{class:"modal-message"},"Scan untuk koneksi perangkat",-1)),e("div",ea,[p.value?(d(),l("div",ta,"Memuat QR...")):u.value?(d(),l("img",{key:1,class:"qr-image",src:`data:image/png;base64,${u.value}`,alt:"QR Server"},null,8,sa)):(d(),l("div",la,y(c.value||"QR tidak tersedia"),1))]),b.value?(d(),l("div",da,y(b.value),1)):w("",!0),e("button",{onClick:a[5]||(a[5]=s=>i.value=!1),class:"modal-btn"},"Tutup")])])):w("",!0)]),_:1})]))}},ca=U(oa,[["__scopeId","data-v-de87d3bd"]]);export{ca as default};
